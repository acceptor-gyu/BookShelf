# 최신 웹을 위한 도큐먼트 데이터베이스

주요 내용
- MongoDB의 역사, 설계 목표, 핵심 기능
- 셸과 드라이버에 대한 간략한 소개
- 사용 예와 한계
- 최근의 MongoDB 변화

개발자들은 왜 MongoDB에 관심을 갖는가?
- MongoDB는 웹 애플리케이션과 인터넷 기반을 위해 설계된 데이터베이스 관리 시스템이다.
- 데이터 모델과 지속성 전략은 높은 읽기/쓰기 효율과 자동 장애조치(failover)를 통한 확장의 용이성을 염두에 두고 만들어졌다

> 애프리케이션에서 필요한 데이터베이스 노드의 개수와 관계없이 MongoDB는 좋은 성능을 보여준다.

개발자들은 확장성보다는 직관적인 데이터 모델때문에 MongoDB를 선호할 것이다.

```ruby
{
  _id: 10,
  username: 'acceptor-gyu',
  email: 'gseonggyu968@gmail.com'
}
```
위 도큐먼트와 같은 모델의 장점은 무엇일까?

관계 모델에서 테이블을 나누고 조인을 해야하겠지만, MongoDB는 다른 방법을 제공한다.
```ruby
{
  _id: 10,
  username: 'acceptor-gyu',
  email: [
    'gseonggyu968@gmail.com',
    'tjdrb0402@hansung.ac.kr'
  ]
}
```
- 스키마(schema)에 맞춰야하는 걱정 없이 구조화된 도큐먼트를 데이터베이스에 저장할 수 있다.

> 도큐먼트 기반 모델은 특정 작업에 잘 맞출 수 있고, 
> 스키마가 없는 것은 MongoDB가 애플리케이션 상에서 빠르게 개발하고 반복할 수 있는 최고의 도구 중 하나가 될 수 있음을 뜻한다.  
> 저자의 목표는 독자들이 MongoDB를 사용하는 것이 옳은 일인지 아닌지를 결정할 수 있게 필요한 정보를 제공하고 효과적으로 이용할 수 있게 설명하는 것이다.

## 1.1 인터넷에서 태어나다
하드웨어와 소프트웨어 인프라 등 기술 계층을 직접 제어할 수 없는 점을 불편하게 생각하는 개발자들이 10gen의 새로운 데이터베이스 기술을 원했다.  
10gen은 이러한 요구를 충족시키기 위해 MongoDB를 만들었다.

그 후 10gen은 회사 이름을 MongoDB로 바꾸고, 오픈 소스 프로젝트로서 데이터베이스 개발을 계속 지원하고 있다.  
코드는 공개되어 있고, 라이선스 조건에 따라 자유롭게 수정하거나 사용할 수 있으며, 커뮤니티는 일반적인 버그 리포트를 올리고 패치를 제공한다.

프로젝트의 로드맵은 사용자 커뮤니티의 필요에 의해, 
그리고 관계 데이터베이스와 키-값(key-value) 분산 저장 시스템의 가장 좋은 기능들만을 통합하는 데이터베이스의 설계라는 주요 목표에 의해 결정된다.

MongoDB의 역사에서 가장 중요한 것은 MongoDB는 매우 간단하지만 유연하고 웹 애플리케이션 계층의 일부로 개발되었다는 점이다.  
이러한 사용 예는 MongoDB 개발을 선택하도록 만들고, MongoDB의 특징을 설명할 수 있도록 도와준다.

## 1.2 MongoDB의 핵심 기능
> - 도큐먼트 데이터 모델
> - 이 모델에 대해 효과적으로 수행되는 MongoDB의 기능
> - MongoDB의 복제와 수평 확장을 중심으로한 데이터베이스 연산


### 도큐먼트 데이터 모델
`도큐먼트(document)`는 본질적으로 속성의 이름과 값으로 이루어진 쌍의 집합이다.

MongoDB는 Binary JSON 혹은 BSON의 형태로 도큐먼트를 저장한다. 즉, MongoDB는 도큐먼트의 모음과 같이 데이터를 `컬렉션(Collection)`에 도큐먼트로 저장한다.

컬렉션은 MongoDB에서 중요한 개념이다. 컬렉션에 있는 데이터는 디스크로 저장되고, 대부분의 쿼리에서 찾고자 하는 컬렉션이 무엇인지 명시해야 할 것이다.

> 일대다 대응 관계를 표현하기 위해서 여러 개의 테이블이 필요한 관계 모델과는 다르게  
> 도큐먼트 지향적인 데이터 모델에서는 객체를 자연스럽게 모아 놓은 형태로 표현함으로써 객체를 전체적으로 작업할 수 있다.

MongoDB는 도큐먼트를 컬렉션으로 모아 놓는데, 어떤 종류의 스키마도 필요하지 않는다.
이론적으로는 하나의 컬렉션에 포함되어 있는 각각의 도큐먼트들이 서로 완전히 다른 구조를 갖는 것도 가능하다.  
하지만 실제로는 컬렉션 내에서 도큐먼트들은 상대적으로 균일한 구조를 갖는다.


<스키마가 없는 모델의 장점>
1. 데이터베이스가 아닌 애플리케이션이 데이터 구조를 정한다.
   - 데이터의 구조가 빈번히 변경되는 개발 초기 단계에서 개발 속도를 단축시켜 준다.

2. 스키마가 없는 데이터 모델을 통해 가변적인 속성을 갖는 데이터를 표현할 수 있다는 것이다.
   - 조인이 필요 없고, 새로운 속성은 한 도큐먼트에 동적으로 추가할 수 있다.
   - 애플리케이션 개발을 할 때 추후에 필요한 데이터 필드가 무엇인지에 대해서는 걱정할 필요가 없다.


## 1.3 MongoDB 코어 서버와 툴









## 1.4 MongoDB를 사용하는 이유







## 1.5 팁과 한계





## 1.6 MongoDB의 역사



## 1.7 추가적인 자료




## 1.8 요약



## detail
> 도큐먼트 데이터베이스란?
>   - 도큐먼트 데이터베이스는 관계형 데이터베이스와 달리 스키마가 없다.